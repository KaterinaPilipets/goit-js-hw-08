{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQH,EAAKI,SAASC,MACtBC,EAAUN,EAAKI,SAASG,QAE9BJ,EAAMK,aAAa,WAAY,YAC/BF,EAAQE,aAAa,WAAY,YACjC,IAAMC,EAAmB,sBACrBC,EAAW,GACfV,EAAKW,iBAAiB,QAASC,EAAAd,EAAA,EAY/B,SAAuBe,GACjBC,IACFJ,EAAWI,GAEbJ,EAASG,EAAME,OAAOC,MAAQH,EAAME,OAAOE,MAC3CC,aAAaC,QAAQV,EAAkBW,KAAKC,UAAUX,G,GAjBD,MACvDV,EAAKW,iBAAiB,UAkBtB,SAAoBE,GAClBS,QAAQC,IAAIb,GACZG,EAAMW,iBACNN,aAAaO,QACbZ,EAAME,OAAOW,QACbZ,EAAO,E,IArBT,IAAIA,EAAOM,KAAKO,MAAMT,aAAaU,QAAQnB,IAE3C,IACEN,EAAMc,MAAQH,EAAKT,OAAS,GAC5BC,EAAQW,MAAQH,EAAKP,SAAW,E,CAChC,MAAOsB,GACPP,QAAQC,IAAI,gB","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst email = form.elements.email;\nconst message = form.elements.message;\n\nemail.setAttribute('required', 'required');\nmessage.setAttribute('required', 'required');\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\nlet formData = {};\nform.addEventListener('input', throttle(saveFormValue, 500));\nform.addEventListener('submit', submitForm);\n\nlet data = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n// console.log('data', data);\ntry {\n  email.value = data.email || '';\n  message.value = data.message || '';\n} catch (error) {\n  console.log('empty storage');\n}\n\nfunction saveFormValue(event) {\n  if (data) {\n    formData = data;\n  }\n  formData[event.target.name] = event.target.value;\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formData));\n}\nfunction submitForm(event) {\n  console.log(formData);\n  event.preventDefault();\n  localStorage.clear();\n  event.target.reset();\n  data = {};\n}\n"],"names":["$eaxEB","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$email","elements","email","$b00c40859be242c5$var$message","message","setAttribute","$b00c40859be242c5$var$LOCALSTORAGE_KEY","$b00c40859be242c5$var$formData","addEventListener","$parcel$interopDefault","event","$b00c40859be242c5$var$data","target","name","value","localStorage","setItem","JSON","stringify","console","log","preventDefault","clear","reset","parse","getItem","error"],"version":3,"file":"03-feedback.b1e88762.js.map"}